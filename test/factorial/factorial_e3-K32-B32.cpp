#include <iostream>
#include "../../src/e3extensions/secureint.h"

using namespace std;

#define MAX_NUM 10
//#define NUM 5

string libgDir = "./libg.so";
string gFunctionName = "libg";

int main()
{
	Cryptosystem cs("2094022057",29,"1036081187918280717",{"448469935964538471","3590272461974220571","2060739548272493101","1579258399334860087","1226426126179119046","1467461620433993856","167219155418869174","4298809515073149213","642260289790892454","2833280721351551172","3306917622196624277","4106513155568927857","1843497472513978316","374074428388866612","714562304123781881","1714752879977748","3367852758288749306","3640807283647528277","1992783674726005211","2612733651275235760","3327204701705290838","2900785381224843122","3488202551884334065","2356743082818462767","4196828523219234931","3725182526371491185","215468824760524628","2437663898082600348","3129063741228902039","2266952148106150599"},"3985925198232246244","1846727530272425081", libgDir, gFunctionName);

	SecureInt num("2514399788946726599",cs);
	SecureInt fact("1584047009334360268",cs);
	SecureInt i("2329785241891221790",cs);
	SecureInt result("2152040910146505206",cs);
	
	int counter = 1;

	do {
		//cout << counter << "...\n";
		fact *= i;
		result += (i == num) * fact;
		++i;
	} while (++counter != MAX_NUM);

	cout << "fact( " << num.str() << " ) = " << result.str() << "\n";

	return 0;
}

